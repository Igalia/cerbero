From 8c50002a7ffa4ec9e64949c9ab4bba1ca203c29a Mon Sep 17 00:00:00 2001
From: Jani Hautakangas <jani@igalia.com>
Date: Thu, 24 Mar 2022 09:41:17 +0200
Subject: [PATCH 4/7] Remove absolute path from libWPEInjectedBundle.so on
 Android

Android application native library dir doesn't support subdirectories
---
 Source/WebKit/UIProcess/API/glib/WebKitWebContext.cpp | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/Source/WebKit/UIProcess/API/glib/WebKitWebContext.cpp b/Source/WebKit/UIProcess/API/glib/WebKitWebContext.cpp
index a30f5b13be26..b62cdd7ce8c1 100644
--- a/Source/WebKit/UIProcess/API/glib/WebKitWebContext.cpp
+++ b/Source/WebKit/UIProcess/API/glib/WebKitWebContext.cpp
@@ -337,8 +337,7 @@ static const char* injectedBundleDirectory()
         return bundleDirectory;
 #endif
 
-    static const char* injectedBundlePath = PKGLIBDIR G_DIR_SEPARATOR_S "injected-bundle" G_DIR_SEPARATOR_S;
-    return injectedBundlePath;
+    return "";
 }
 
 static void webkitWebContextGetProperty(GObject* object, guint propID, GValue* value, GParamSpec* paramSpec)
-- 
2.34.1

